const express = require('express');
const dotenv = require('dotenv');
dotenv.config();

// ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржмржЯ ржЪрж╛рж▓рзБ (ржЯрзЛржХрзЗржи ржерж╛ржХрж▓рзЗ)
if (process.env.TELEGRAM_BOT_TOKEN) {
  require('./telegram');
  console.log('тЬЕ ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо ржмржЯ ржЪрж╛рж▓рзБ рж╣ржпрж╝рзЗржЫрзЗ');
}

// рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржмржЯ ржЪрж╛рж▓рзБ (WHATSAPP_SESSION=true ржерж╛ржХрж▓рзЗ)
if (process.env.WHATSAPP_SESSION === 'true') {
  require('./whatsapp');
  console.log('тЬЕ рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржмржЯ ржЪрж╛рж▓рзБ рж╣ржЪрзНржЫрзЗ (QR рж╕рзНржХрзНржпрж╛ржи ржХрж░рзБржи)');
}

// рж╣рзЗрж▓рже ржЪрзЗржХ рж╕рж╛рж░рзНржнрж╛рж░ (Render-ржПрж░ ржЬржирзНржп)
const app = express();
const PORT = process.env.PORT || 3000;

app.get('/', (req, res) => {
  res.send('ЁЯдЦ Moltbot ржЪрж▓ржЫрзЗ! ржЯрзЗрж▓рж┐ржЧрзНрж░рж╛ржо/рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржкрзЗ ржорзЗрж╕рзЗржЬ ржжрж┐ржиред');
});

app.listen(PORT, () => {
  console.log(`ЁЯМР рж╣рзЗрж▓рже ржЪрзЗржХ рж╕рж╛рж░рзНржнрж╛рж░ ржкрзЛрж░рзНржЯ ${PORT} ржП ржЪрж▓ржЫрзЗ`);
});
